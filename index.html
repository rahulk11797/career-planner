    <!DOCTYPE html>
    <html lang="en" data-theme="dark">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Mastery OS | Elite Engineering Elite</title>
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=JetBrains+Mono:wght@500&display=swap');

            :root[data-theme="dark"] {
                --bg: #0d1117; --sidebar-bg: #161b22; --card-bg: #1c2128;
                --border: #30363d; --accent: #58a6ff; --text-main: #c9d1d9; --text-bold: #f0f6fc;
                --today-glow: rgba(88, 166, 255, 0.25);
            }

            :root[data-theme="light"] {
                --bg: #f8fafc; --sidebar-bg: #ffffff; --card-bg: #ffffff;
                --border: #e2e8f0; --accent: #2563eb; --text-main: #475569; --text-bold: #1e293b;
                --today-glow: rgba(37, 99, 235, 0.1);
            }

            body { 
                background-color: var(--bg); color: var(--text-main); 
                font-family: 'Inter', sans-serif; transition: 0.3s; padding-top: 80px;
            }

            /* AUTO-FOCUS HIGHLIGHT */
            .active-day-focus { 
                border: 2px solid var(--accent) !important; 
                box-shadow: 0 0 30px var(--today-glow) !important;
                transform: scale(1.02);
                position: relative;
                z-index: 5;
            }
            
            .active-day-focus::before {
                content: "CURRENT FOCUS";
                position: absolute; top: -12px; left: 20px;
                background: var(--accent); color: white;
                font-size: 0.6rem; font-weight: 900; padding: 2px 10px;
                border-radius: 4px; letter-spacing: 1px;
            }

            /* UI ELEMENTS */
            .glass-header {
                position: fixed; top: 0; width: 100%; z-index: 1100;
                background: var(--sidebar-bg); backdrop-filter: blur(20px);
                border-bottom: 1px solid var(--border); height: 75px;
                display: flex; align-items: center; justify-content: space-between; padding: 0 25px;
            }

            .sidebar { 
                background: var(--sidebar-bg); border-right: 1px solid var(--border); 
                padding: 25px; height: calc(100vh - 75px); position: sticky; top: 75px; overflow-y: auto; 
            }

            .live-clock { font-family: 'JetBrains Mono', monospace; font-size: 2.2rem; font-weight: 700; color: var(--accent); text-align: center; line-height: 1; }
            .full-date-display { font-size: 0.7rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; text-align: center; opacity: 0.6; margin-bottom: 5px; }

            .day-card { 
                background: var(--card-bg); border: 1px solid var(--border); 
                border-radius: 20px; margin-bottom: 30px; transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            }

            .task-slot { display: flex; align-items: center; padding: 18px 25px; border-bottom: 1px solid var(--border); gap: 15px; }
            .task-slot:last-child { border-bottom: none; }
            .task-slot.done { opacity: 0.4; filter: grayscale(1); }

            .btn-study { background: var(--accent); color: white; border: none; padding: 7px 18px; border-radius: 8px; font-weight: 700; text-decoration: none; font-size: 0.75rem; transition: 0.2s; }
            .btn-study:hover { color: white; filter: brightness(1.1); transform: translateY(-1px); }

            .search-container { position: relative; width: 400px; }
            .search-input { width: 100%; background: var(--bg); border: 1px solid var(--border); border-radius: 12px; padding: 10px 15px 10px 45px; color: var(--text-bold); }
            .search-icon { position: absolute; left: 18px; top: 13px; opacity: 0.4; }

            .fab-focus {
                position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px;
                border-radius: 50%; background: var(--accent); color: white;
                display: flex; align-items: center; justify-content: center;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 1000; border: none; transition: 0.3s;
            }
            .fab-focus:active { transform: scale(0.9); }
            .level-badge {
        font-size: 9px;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.6px;
        padding: 3px 8px;
        border-radius: 999px;
        margin-left: 8px;
    }

    .level-easy {
        background: rgba(34,197,94,0.15);
        color: #22c55e;
    }

    .level-medium {
        background: rgba(59,130,246,0.15);
        color: #3b82f6;
    }

    .level-hard {
        background: rgba(239,68,68,0.15);
        color: #ef4444;
    }
    /* CATEGORY BADGES */
    .cat-badge {
        font-size: 9px;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding: 3px 8px;
        border-radius: 6px;
    }

    /* Core */
    .cat-java { background: rgba(255,167,38,0.18); color: #ffa726; }
    .cat-dsa { background: rgba(239,83,80,0.18); color: #ef5350; }
    .cat-system-design { background: rgba(171,71,188,0.18); color: #ab47bc; }

    /* Platform */
    .cat-database { background: rgba(38,166,154,0.18); color: #26a69a; }
    .cat-devops { background: rgba(66,165,245,0.18); color: #42a5f5; }
    .cat-observability { background: rgba(120,144,156,0.18); color: #78909c; }

    /* Interview / Meta */
    .cat-interview { background: rgba(255,202,40,0.18); color: #ffca28; }
    .cat-revision { background: rgba(139,195,74,0.18); color: #8bc34a; }

            @media (max-width: 991px) { .sidebar { height: auto; border: none; } .search-container { display: none; } }
        </style>
    </head>
    <body>

    <header class="glass-header no-print">
        <div class="d-flex align-items-center gap-3">
            <button class="btn d-lg-none p-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu">
                <i class="fa-solid fa-bars-staggered fa-lg text-accent"></i>
            </button>
            <div class="fw-black h4 mb-0" style="letter-spacing:-1.5px">MASTERY<span class="text-primary">OS</span></div>
        </div>

        <div class="search-container no-print">
            <i class="fa-solid fa-search search-icon"></i>
            <input type="text" id="globalSearch" class="search-input" placeholder="Search topics, days, or categories..." onkeyup="filterContent()">
        </div>

        <div class="d-flex gap-2">
            <button class="btn btn-sm btn-outline-secondary rounded-pill px-3" onclick="toggleTheme()"><i class="fa-solid fa-moon"></i></button>
            <button class="btn btn-sm btn-primary rounded-pill px-4 fw-bold" onclick="window.print()">EXPORT</button>
        </div>
    </header>

    <div class="container-fluid">
        <div class="row">
            <aside class="col-lg-3 d-none d-lg-block no-print sidebar" id="desktopSidebar"></aside>
            <main class="col-lg-9 p-3 p-md-5">
                <div id="roadmap-grid"></div>
            </main>
        </div>
    </div>

    <button class="fab-focus d-lg-none no-print" onclick="focusToday(true)">
        <i class="fa-solid fa-crosshairs fa-xl"></i>
    </button>

    <div class="offcanvas offcanvas-start no-print" id="mobileMenu" style="background: var(--sidebar-bg)">
        <div class="offcanvas-body" id="mobileSidebar"></div>
    </div>

    <script src="data.js"></script>

    <script>
        let timerInterval;
        let timeLeft = 2700;

        function toggleTheme() {
            const root = document.documentElement;
            const theme = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            root.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }

        function updateDateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-GB', { hour12: false });
            const dateStr = now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            
            document.querySelectorAll('.live-clock').forEach(el => el.innerText = timeStr);
            document.querySelectorAll('.full-date-display').forEach(el => el.innerText = dateStr);
        }

        // AUTO-FOCUS ENGINE
        function focusToday(isManual = false) {
            const todayEl = document.querySelector('.active-day-focus');
            if (todayEl) {
                todayEl.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: isManual ? 'center' : 'start' 
                });
            }
        }

        function getSidebarHTML() {
        const progress = calculateProgress();
        
        // Generate Links from data.js
        const linksHTML = (window.SIDEBAR_LINKS || []).map(item => `
            <a href="${item.link}" target="_blank" class="portal-link d-flex gap-3 p-2 border rounded-3 text-decoration-none mb-2" style="color:var(--text-main); transition: 0.2s;">
                <i class="fa-solid ${item.icon} ${item.color}"></i> 
                <span class="small fw-bold">${item.name}</span>
            </a>
        `).join('');

        return `
            <div class="full-date-display"></div>
            <div class="live-clock mb-4">00:00:00</div>

            <button class="btn btn-primary w-100 py-2 mb-3 rounded-3 fw-bold no-print" onclick="focusToday(true)">
                <i class="fa-solid fa-location-arrow me-2"></i> JUMP TO TODAY
            </button>

            <div class="timer-card" style="background: linear-gradient(135deg, var(--accent), #6366f1); color:white; padding:20px; border-radius:18px; text-align:center; margin-bottom:25px; box-shadow: 0 10px 20px rgba(0,0,0,0.1);">
                <div class="small fw-bold opacity-75 mb-1">DEEP WORK FOCUS</div>
                <div class="h2 fw-black mb-2" id="timer-display">45:00</div>
                <button class="btn btn-sm btn-light w-100 fw-bold rounded-pill" onclick="handleTimer()" id="timerBtn">START CLOCK</button>
            </div>

            <div class="mb-4">
                <div class="d-flex justify-content-between small fw-bold mb-2">
                    <span>OVERALL MASTERY</span>
                    <span>${progress}%</span>
                </div>
                <div style="height:6px; background:var(--border); border-radius:10px; overflow:hidden;">
                    <div style="width:${progress}%; height:100%; background:var(--accent); transition:1s cubic-bezier(0.4, 0, 0.2, 1);"></div>
                </div>
            </div>

            <nav class="nav flex-column no-print">
                <label class="small fw-bold opacity-50 mb-2">QUICK LINKS</label>
                ${linksHTML}
            </nav>
        `;
    }

        function calculateProgress() {
            const checks = document.querySelectorAll('input[type="checkbox"]');
            if (checks.length === 0) return 0;
            const done = Array.from(checks).filter(c => c.checked).length;
            return Math.round((done / checks.length) * 100);
        }

        function renderRoadmap() {
            const grid = document.getElementById('roadmap-grid');
            let html = '';
            let trackDate = new Date();
            const todayStr = new Date().toDateString();

            for (let i = 1; i <= 90; i++) {
                const day = window.MASTER_DATA[(i-1) % window.MASTER_DATA.length];
                const isToday = trackDate.toDateString() === todayStr;
                
                html += `
                    <div class="day-card ${isToday ? 'active-day-focus' : ''}" id="day-card-${i}">
                        <div class="p-3 border-bottom d-flex justify-content-between align-items-center" style="background: rgba(0,0,0,0.02)">
                            <span class="fw-black h6 mb-0">${isToday ? 'ðŸŽ¯ ' : ''}DAY ${i}</span>
                            <span class="small fw-bold opacity-50">${trackDate.toLocaleDateString('en-US', {weekday: 'short', month:'short', day:'numeric'})}</span>
                        </div>
                        <div>
                            ${day.tasks.map((t, idx) => {
                                const id = `d${i}t${idx}`;
                                const done = localStorage.getItem(id);
                                return `
                                <div class="task-slot ${done ? 'done' : ''}">
                                        <input type="checkbox" class="form-check-input" id="${id}" 
                                            onchange="sync('${id}')" ${done ? 'checked' : ''}>
                                        <div style="flex:1">
                                            <div class="fw-bold text-bold" style="font-size:0.95rem">
        ${t.topic}
        ${t.level ? `<span class="level-badge level-${t.level}">${t.level}</span>` : ""}
    </div>

    <span class="cat-badge cat-${t.cat}">
        ${t.cat}
    </span>


                                        </div>
                                        <a href="${t.link}" target="_blank" class="btn-study shadow-sm">STUDY</a>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>`;
                trackDate.setDate(trackDate.getDate() + 1);
            }
            grid.innerHTML = html;
            updateUI();
            
            // AUTO-FOCUS ON LOAD
            setTimeout(() => focusToday(false), 500);
        }

        function sync(id) {
            const cb = document.getElementById(id);
            if (cb.checked) localStorage.setItem(id, 'true');
            else localStorage.removeItem(id);
            cb.closest('.task-slot').classList.toggle('done', cb.checked);
            updateUI();
        }

        function filterContent() {
            const query = document.getElementById('globalSearch').value.toLowerCase();
            document.querySelectorAll('.day-card').forEach(card => {
                card.style.display = card.innerText.toLowerCase().includes(query) ? 'block' : 'none';
            });
        }

        function handleTimer() {
            const btn = document.getElementById('timerBtn');
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                btn.innerText = "RESUME";
            } else {
                btn.innerText = "PAUSE";
                timerInterval = setInterval(() => {
                    timeLeft--;
                    const m = Math.floor(timeLeft / 60);
                    const s = timeLeft % 60;
                    document.getElementById('timer-display').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
                    if (timeLeft <= 0) { 
                        clearInterval(timerInterval); 
                        alert("Focus Session Complete!");
                    }
                }, 1000);
            }
        }

        function updateUI() {
            const side = getSidebarHTML();
            document.getElementById('desktopSidebar').innerHTML = side;
            document.getElementById('mobileSidebar').innerHTML = side;
            updateDateTime();
        }

        window.onload = () => {
            const theme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', theme);
            renderRoadmap();
            setInterval(updateDateTime, 1000);
            updateDateTime();
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    </body>
    </html>
